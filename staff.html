<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Staff - EC2G Group</title>
  <link href="https://fonts.googleapis.com/css?family=Fira+Sans:400,500,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="header-bar">
      <div class="header-logo">
        <img src="logos/ec2g.svg" alt="EC2G Logo">
      </div>
      <nav class="header-nav">
        <a href="index.html">Home</a>
        <a href="news.html">News</a>
        <a href="staff.html">Staff</a>
        <a href="videos.html">Videos</a>
        <a href="network.html">Network</a>
      </nav>
    </div>
  </header>

  <main>
    <h2>Academic Staff</h2>
    <div class="staff-list" id="academic-staff">
      <!-- Academic staff cards will be populated by JavaScript -->
    </div>
    
    <h2>Students</h2>
    <div class="staff-list" id="students">
      <!-- Student cards will be populated by JavaScript -->
    </div>

    <h2>Collaborators</h2>
    <div class="staff-list" id="collaborators">
      <!-- Collaborator cards will be populated by JavaScript -->
    </div>

    <h2>Former Graduated Students</h2>
    <div class="staff-list" id="former-students">
      <!-- Former students cards will be populated by JavaScript -->
    </div>
  </main>

  <footer>
    &copy; 2025 EC2G - UTFSM
  </footer>

  <script src="js/data.js"></script>
  <script src="js/utils.js"></script>
  <script>
    // Staff page specific functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Populate academic staff
      const academicContainer = document.getElementById('academic-staff');
      EC2GData.staff.academic.forEach(member => {
        academicContainer.appendChild(createStaffCard(member));
      });
      
      // Populate students
      const studentsContainer = document.getElementById('students');
      EC2GData.staff.students.forEach(member => {
        studentsContainer.appendChild(createStaffCard(member));
      });
      
      // Populate collaborators
      const collaboratorsContainer = document.getElementById('collaborators');
      EC2GData.staff.collaborators.forEach(member => {
        collaboratorsContainer.appendChild(createStaffCard(member));
      });

      const formerStudentsContainer = document.getElementById('former-students');
      EC2GData.staff.formerStudents.forEach(member => {
        formerStudentsContainer.appendChild(createStaffCard(member));
      });
    });
    
    function createStaffCard(member) {
      const card = document.createElement('div');
      card.className = 'staff-card';
      
      const degreeClass = member.degree === 'PhD' ? 'phd' : 'msc';
      const degreeSpan = member.degree ? `<span class="${degreeClass}">${member.degree}</span>` : '';
      
      // Determine institution: use member's institution if available, otherwise use main institution
      const institution = member.institution || EC2GData.site.institution;
      
      card.innerHTML = `
        <img src="${member.avatar}" alt="${member.name}" class="staff-avatar">
        <div class="staff-details">
          <h3>
            <a href="staff/${member.id}.html" class="staff-link">${member.name}${degreeSpan ? ', ' + degreeSpan : ''}</a>
          </h3>
          <div class="staff-title">${member.title}</div>
          <div class="staff-institution">${institution}</div>
        </div>
      `;
      
      return card;
    }
  </script>
</body>
</html>